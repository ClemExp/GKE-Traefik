#First elements are for which stack apps to load - only run required applications
server:
  enabled: true

alertmanager:
  enabled: false

kubeStateMetrics:
  enabled: false

nodeExporter:
  enabled: false

pushgateway:
  enabled: false

# Following config is to configure a traefik scrape config for prometheus - traefik
# N.B. relabeling config is required to get traefik* metrics in prometheus
prometheus:
  prometheusSpec: 
    additionalScrapeConfigs:
      - job_name: 'traefik'
        scrape_interval: 15s
        honor_labels: true
        metrics_path: /metrics
        scheme: http
        static_configs:
        - targets: ['traefik-metrics.tlson.svc.cluster.local:9100']
        relabel_configs:
          - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]
            action: replace
            target_label: __metrics_path__
            regex: (.+)
          - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
            action: replace
            regex: ([^:]+)(?::\\d+)?;(\\d+)
            replacement: $1:$2
            target_label: __address__
        tls_config:
          insecure_skip_verify: true
        basic_auth:
          username: admin
          password: Traefik12345
      - job_name: 'subjectsphp'
        scrape_interval: 5s
        metrics_path: "/"
        scheme: https
        static_configs:
        - targets: ['tlson.clemoregan.com']
        tls_config:
          insecure_skip_verify: true

#Grafana configuration & traefik charts to import
grafana:
  plugins:
    - grafana-piechart-panel
  dashboardProviders:
    dashboardproviders.yaml:
      apiVersion: 1
      providers:
        - name: 'default'
          orgId: 1
          folder: ''
          type: file
          disableDeletion: false
          editable: true
          options:
            path: /var/lib/grafana/dashboards/default
  dashboards:
    default:
      cluster-monitor:
        json: |
          {
            "__inputs": [
              {
                "name": "DS_PROMETHEUS",
                "label": "Prometheus",
                "description": "",
                "type": "datasource",
                "pluginId": "prometheus",
                "pluginName": "Prometheus"
              }
            ],
            "__requires": [
              {
                "type": "panel",
                "id": "graph",
                "name": "Graph",
                "version": ""
              },
              {
                "type": "panel",
                "id": "singlestat",
                "name": "Singlestat",
                "version": ""
              },
              {
                "type": "grafana",
                "id": "grafana",
                "name": "Grafana",
                "version": "3.1.1"
              },
              {
                "type": "datasource",
                "id": "prometheus",
                "name": "Prometheus",
                "version": "1.3.0"
              }
            ],
            "id": null,
            "title": "Kubernetes cluster monitoring (via Prometheus)",
            "description": "Monitors Kubernetes cluster using Prometheus. Shows overall cluster CPU / Memory / Filesystem usage as well as individual pod, containers, systemd services statistics. Uses cAdvisor metrics only.",
            "tags": [
              "kubernetes"
            ],
            "style": "dark",
            "timezone": "browser",
            "editable": true,
            "hideControls": false,
            "sharedCrosshair": false,
            "rows": [
              {
                "collapse": false,
                "editable": true,
                "height": "200px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)",
                      "thresholdLine": false
                    },
                    "height": "200px",
                    "id": 32,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": false,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": false,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{kubernetes_io_hostname=~\"^$Node$\"}[1m]))",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "Received",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{kubernetes_io_hostname=~\"^$Node$\"}[1m]))",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "Sent",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Network I/O pressure",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "cumulative"
                    },
                    "transparent": false,
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "Network I/O pressure"
              },
              {
                "collapse": false,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": true,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "format": "percent",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": true,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "180px",
                    "id": 4,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 4,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) / sum (machine_memory_bytes{kubernetes_io_hostname=~\"^$Node$\"}) * 100",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "65, 90",
                    "title": "Cluster memory usage",
                    "transparent": false,
                    "type": "singlestat",
                    "valueFontSize": "80%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": true,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "percent",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": true,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "180px",
                    "id": 6,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 4,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) / sum (machine_cpu_cores{kubernetes_io_hostname=~\"^$Node$\"}) * 100",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "65, 90",
                    "title": "Cluster CPU usage (1m avg)",
                    "type": "singlestat",
                    "valueFontSize": "80%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": true,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "percent",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": true,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "180px",
                    "id": 7,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 4,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (container_fs_usage_bytes{device=~\"^/dev/[sv]d[a-z][1-9]$\",id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) / sum (container_fs_limit_bytes{device=~\"^/dev/[sv]d[a-z][1-9]$\",id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) * 100",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "",
                        "metric": "",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "65, 90",
                    "title": "Cluster filesystem usage",
                    "type": "singlestat",
                    "valueFontSize": "80%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "bytes",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 9,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "20%",
                    "prefix": "",
                    "prefixFontSize": "20%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"})",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Used",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "bytes",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 10,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (machine_memory_bytes{kubernetes_io_hostname=~\"^$Node$\"})",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Total",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "none",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 11,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": " cores",
                    "postfixFontSize": "30%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{id=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m]))",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Used",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "none",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 12,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": " cores",
                    "postfixFontSize": "30%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (machine_cpu_cores{kubernetes_io_hostname=~\"^$Node$\"})",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Total",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "bytes",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 13,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (container_fs_usage_bytes{device=~\"^/dev/[sv]d[a-z][1-9]$\",id=\"/\",kubernetes_io_hostname=~\"^$Node$\"})",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Used",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  },
                  {
                    "cacheTimeout": null,
                    "colorBackground": false,
                    "colorValue": false,
                    "colors": [
                      "rgba(50, 172, 45, 0.97)",
                      "rgba(237, 129, 40, 0.89)",
                      "rgba(245, 54, 54, 0.9)"
                    ],
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "format": "bytes",
                    "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                    },
                    "height": "1px",
                    "id": 14,
                    "interval": null,
                    "isNew": true,
                    "links": [],
                    "mappingType": 1,
                    "mappingTypes": [
                      {
                        "name": "value to text",
                        "value": 1
                      },
                      {
                        "name": "range to text",
                        "value": 2
                      }
                    ],
                    "maxDataPoints": 100,
                    "nullPointMode": "connected",
                    "nullText": null,
                    "postfix": "",
                    "postfixFontSize": "50%",
                    "prefix": "",
                    "prefixFontSize": "50%",
                    "rangeMaps": [
                      {
                        "from": "null",
                        "text": "N/A",
                        "to": "null"
                      }
                    ],
                    "span": 2,
                    "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                    },
                    "targets": [
                      {
                        "expr": "sum (container_fs_limit_bytes{device=~\"^/dev/[sv]d[a-z][1-9]$\",id=\"/\",kubernetes_io_hostname=~\"^$Node$\"})",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "thresholds": "",
                    "title": "Total",
                    "type": "singlestat",
                    "valueFontSize": "50%",
                    "valueMaps": [
                      {
                        "op": "=",
                        "text": "N/A",
                        "value": "null"
                      }
                    ],
                    "valueName": "current"
                  }
                ],
                "showTitle": false,
                "title": "Total usage"
              },
              {
                "collapse": false,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 3,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "height": "",
                    "id": 17,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (pod_name)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ pod_name }}",
                        "metric": "container_cpu",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Pods CPU usage (1m avg)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "transparent": false,
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "showTitle": false,
                "title": "Pods CPU usage"
              },
              {
                "collapse": true,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 3,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "height": "",
                    "id": 23,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{systemd_service_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (systemd_service_name)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ systemd_service_name }}",
                        "metric": "container_cpu",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "System services CPU usage (1m avg)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "System services CPU usage"
              },
              {
                "collapse": true,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 3,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "height": "",
                    "id": 24,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "hideEmpty": false,
                      "hideZero": false,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": null,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (container_name, pod_name)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "pod: {{ pod_name }} | {{ container_name }}",
                        "metric": "container_cpu",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, name, image)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                        "metric": "container_cpu",
                        "refId": "B",
                        "step": 10
                      },
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, rkt_container_name)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                        "metric": "container_cpu",
                        "refId": "C",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Containers CPU usage (1m avg)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "Containers CPU usage"
              },
              {
                "collapse": true,
                "editable": true,
                "height": "500px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 3,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "id": 20,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": true,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (rate (container_cpu_usage_seconds_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (id)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ id }}",
                        "metric": "container_cpu",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "All processes CPU usage (1m avg)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "repeat": null,
                "showTitle": false,
                "title": "All processes CPU usage"
              },
              {
                "collapse": false,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "id": 25,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}) by (pod_name)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ pod_name }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Pods memory usage",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "Pods memory usage"
              },
              {
                "collapse": true,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "id": 26,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{systemd_service_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}) by (systemd_service_name)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ systemd_service_name }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "System services memory usage",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "System services memory usage"
              },
              {
                "collapse": true,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "id": 27,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\",container_name!=\"POD\",kubernetes_io_hostname=~\"^$Node$\"}) by (container_name, pod_name)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "pod: {{ pod_name }} | {{ container_name }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "sum (container_memory_working_set_bytes{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}) by (kubernetes_io_hostname, name, image)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "B",
                        "step": 10
                      },
                      {
                        "expr": "sum (container_memory_working_set_bytes{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}) by (kubernetes_io_hostname, rkt_container_name)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "C",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Containers memory usage",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "Containers memory usage"
              },
              {
                "collapse": true,
                "editable": true,
                "height": "500px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 0,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "id": 28,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": true,
                    "targets": [
                      {
                        "expr": "sum (container_memory_working_set_bytes{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}) by (id)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "{{ id }}",
                        "metric": "container_memory_usage:sort_desc",
                        "refId": "A",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "All processes memory usage",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "All processes memory usage"
              },
              {
                "collapse": false,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "id": 16,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (pod_name)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> {{ pod_name }}",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (pod_name)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- {{ pod_name }}",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Pods network I/O (1m avg)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "Pods network I/O"
              },
              {
                "collapse": true,
                "editable": true,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "id": 30,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (container_name, pod_name)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> pod: {{ pod_name }} | {{ container_name }}",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (container_name, pod_name)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- pod: {{ pod_name }} | {{ container_name }}",
                        "metric": "network",
                        "refId": "D",
                        "step": 10
                      },
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, name, image)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name!~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, name, image)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- docker: {{ kubernetes_io_hostname }} | {{ image }} ({{ name }})",
                        "metric": "network",
                        "refId": "C",
                        "step": 10
                      },
                      {
                        "expr": "sum (rate (container_network_transmit_bytes_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, rkt_container_name)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                        "metric": "network",
                        "refId": "E",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{rkt_container_name!=\"\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (kubernetes_io_hostname, rkt_container_name)",
                        "hide": false,
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- rkt: {{ kubernetes_io_hostname }} | {{ rkt_container_name }}",
                        "metric": "network",
                        "refId": "F",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Containers network I/O (1m avg)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "Containers network I/O"
              },
              {
                "collapse": true,
                "editable": true,
                "height": "500px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "decimals": 2,
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {
                      "threshold1": null,
                      "threshold1Color": "rgba(216, 200, 27, 0.27)",
                      "threshold2": null,
                      "threshold2Color": "rgba(234, 112, 112, 0.22)"
                    },
                    "id": 29,
                    "isNew": true,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": false,
                      "min": false,
                      "rightSide": false,
                      "show": true,
                      "sideWidth": 200,
                      "sort": "current",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum (rate (container_network_receive_bytes_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (id)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "-> {{ id }}",
                        "metric": "network",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "- sum (rate (container_network_transmit_bytes_total{id!=\"/\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (id)",
                        "interval": "10s",
                        "intervalFactor": 1,
                        "legendFormat": "<- {{ id }}",
                        "metric": "network",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "All processes network I/O (1m avg)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 2,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "show": true
                    },
                    "yaxes": [
                      {
                        "format": "Bps",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": false
                      }
                    ]
                  }
                ],
                "title": "All processes network I/O"
              }
            ],
            "time": {
              "from": "now-5m",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "templating": {
              "list": [
                {
                  "allValue": ".*",
                  "current": {},
                  "datasource": "Prometheus",
                  "hide": 0,
                  "includeAll": true,
                  "multi": false,
                  "name": "Node",
                  "options": [],
                  "query": "label_values(kubernetes_io_hostname)",
                  "refresh": 1,
                  "type": "query"
                }
              ]
            },
            "annotations": {
              "list": []
            },
            "refresh": "10s",
            "schemaVersion": 12,
            "version": 13,
            "links": [],
            "gnetId": 315
          }
      k8s-app-monitor:
        json: |
          {
            "__inputs": [
              {
                "name": "DS_PROMETHEUS",
                "label": "prometheus",
                "description": "",
                "type": "datasource",
                "pluginId": "prometheus",
                "pluginName": "Prometheus"
              }
            ],
            "__requires": [
              {
                "type": "grafana",
                "id": "grafana",
                "name": "Grafana",
                "version": "4.1.1"
              },
              {
                "type": "panel",
                "id": "graph",
                "name": "Graph",
                "version": ""
              },
              {
                "type": "datasource",
                "id": "prometheus",
                "name": "Prometheus",
                "version": "1.0.0"
              }
            ],
            "annotations": {
              "list": []
            },
            "editable": true,
            "gnetId": 1471,
            "graphTooltip": 1,
            "hideControls": false,
            "id": null,
            "links": [],
            "refresh": "30s",
            "rows": [
              {
                "collapse": false,
                "height": "250px",
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "id": 3,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(irate(http_requests_total{app=\"$container\", handler!=\"prometheus\", kubernetes_namespace=\"$namespace\"}[30s])) by (kubernetes_namespace,app,code)",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "native | {{code}}",
                        "refId": "A",
                        "step": 10
                      },
                      {
                        "expr": "sum(irate(nginx_http_requests_total{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (kubernetes_namespace,app,status)",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "nginx | {{status}}",
                        "refId": "B",
                        "step": 10
                      },
                      {
                        "expr": "sum(irate(haproxy_backend_http_responses_total{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (app,kubernetes_namespace,code)",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "haproxy | {{code}}",
                        "refId": "C",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Request rate",
                    "tooltip": {
                      "msResolution": true,
                      "shared": false,
                      "sort": 0,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "ops",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 15,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(irate(haproxy_backend_http_responses_total{app=\"$container\", kubernetes_namespace=\"$namespace\",code=\"5xx\"}[30s])) by (app,kubernetes_namespace) / sum(irate(haproxy_backend_http_responses_total{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (app,kubernetes_namespace)",
                        "interval": "",
                        "intervalFactor": 2,
                        "legendFormat": "haproxy",
                        "refId": "A",
                        "step": 20
                      },
                      {
                        "expr": "sum(irate(http_requests_total{app=\"$container\", handler!=\"prometheus\", kubernetes_namespace=\"$namespace\", code=~\"5[0-9]+\"}[30s])) by (kubernetes_namespace,app) / sum(irate(http_requests_total{app=\"$container\", handler!=\"prometheus\", kubernetes_namespace=\"$namespace\"}[30s])) by (kubernetes_namespace,app)",
                        "intervalFactor": 2,
                        "legendFormat": "native",
                        "refId": "B",
                        "step": 20
                      },
                      {
                        "expr": "sum(irate(nginx_http_requests_total{app=\"$container\", kubernetes_namespace=\"$namespace\", status=~\"5[0-9]+\"}[30s])) by (kubernetes_namespace,app) / sum(irate(nginx_http_requests_total{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (kubernetes_namespace,app)",
                        "intervalFactor": 2,
                        "legendFormat": "nginx",
                        "refId": "C",
                        "step": 20
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Error rate",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "percentunit",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Request rate",
                "titleSize": "h6"
              },
              {
                "collapse": true,
                "height": 224,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "id": 5,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "max",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "histogram_quantile(0.99, sum(rate(http_request_duration_seconds_bucket{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (app,kubernetes_namespace,le))",
                        "intervalFactor": 1,
                        "legendFormat": "native | 0.99",
                        "refId": "A",
                        "step": 1
                      },
                      {
                        "expr": "histogram_quantile(0.90, sum(rate(http_request_duration_seconds_bucket{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (app,kubernetes_namespace,le))",
                        "intervalFactor": 1,
                        "legendFormat": "native | 0.90",
                        "refId": "B",
                        "step": 1
                      },
                      {
                        "expr": "histogram_quantile(0.5, sum(rate(http_request_duration_seconds_bucket{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (app,kubernetes_namespace,le))",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "native | 0.50",
                        "refId": "C",
                        "step": 1
                      },
                      {
                        "expr": "histogram_quantile(0.99, sum(rate(nginx_http_request_duration_seconds_bucket{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (app,kubernetes_namespace,le))",
                        "intervalFactor": 1,
                        "legendFormat": "nginx | 0.99",
                        "refId": "D",
                        "step": 1
                      },
                      {
                        "expr": "histogram_quantile(0.9, sum(rate(nginx_http_request_duration_seconds_bucket{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (app,kubernetes_namespace,le))",
                        "intervalFactor": 1,
                        "legendFormat": "nginx | 0.90",
                        "refId": "E",
                        "step": 1
                      },
                      {
                        "expr": "histogram_quantile(0.5, sum(rate(nginx_http_request_duration_seconds_bucket{app=\"$container\", kubernetes_namespace=\"$namespace\"}[30s])) by (app,kubernetes_namespace,le))",
                        "intervalFactor": 1,
                        "legendFormat": "nginx | 0.50",
                        "refId": "F",
                        "step": 1
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Response time percentiles",
                    "tooltip": {
                      "msResolution": true,
                      "shared": true,
                      "sort": 0,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "s",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Response time",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "id": 7,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "count(count(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (pod_name))",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "pods",
                        "refId": "A",
                        "step": 5
                      },
                      {
                        "expr": "count(count(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (kubernetes_io_hostname))",
                        "interval": "",
                        "intervalFactor": 2,
                        "legendFormat": "hosts",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Number of pods",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Pod count",
                "titleSize": "h6"
              },
              {
                "collapse": false,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "id": 12,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [
                      {
                        "alias": "elasticsearch-logging-data-20170207a (logging) - system",
                        "color": "#BF1B00"
                      },
                      {
                        "alias": "elasticsearch-logging-data-20170207a (logging) - user",
                        "color": "#508642"
                      }
                    ],
                    "span": 12,
                    "stack": true,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(irate(container_cpu_system_seconds_total{container_name=\"$container\", namespace=\"$namespace\"}[30s])) by (namespace,container_name) / sum(container_spec_cpu_shares{container_name=\"$container\", namespace=\"$namespace\"} / 1024) by (namespace,container_name)",
                        "intervalFactor": 2,
                        "legendFormat": "system",
                        "refId": "C",
                        "step": 10
                      },
                      {
                        "expr": "sum(irate(container_cpu_user_seconds_total{container_name=\"$container\", namespace=\"$namespace\"}[30s])) by (namespace,container_name) / sum(container_spec_cpu_shares{container_name=\"$container\", namespace=\"$namespace\"} / 1024) by (namespace,container_name)",
                        "interval": "",
                        "intervalFactor": 2,
                        "legendFormat": "user",
                        "refId": "B",
                        "step": 10
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Cpu usage (relative to request)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "percentunit",
                        "label": "",
                        "logBase": 1,
                        "max": "1",
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Usage relative to request",
                "titleSize": "h6"
              },
              {
                "collapse": true,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "id": 10,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(irate(container_cpu_usage_seconds_total{container_name=\"$container\", namespace=\"$namespace\"}[30s])) by (namespace,container_name) / sum(container_spec_cpu_quota{container_name=\"$container\", namespace=\"$namespace\"} / container_spec_cpu_period{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name)",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "actual",
                        "metric": "",
                        "refId": "A",
                        "step": 1
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Cpu usage (relative to limit)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "percentunit",
                        "label": "",
                        "logBase": 1,
                        "max": "1",
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "id": 11,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) / sum(container_spec_memory_limit_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name)",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "actual",
                        "refId": "A",
                        "step": 1
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Memory usage (relative to limit)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "percentunit",
                        "label": null,
                        "logBase": 1,
                        "max": "1",
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Usage relative to limit",
                "titleSize": "h6"
              },
              {
                "collapse": true,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 13,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(irate(container_cpu_usage_seconds_total{container_name=\"$container\", namespace=\"$namespace\"}[30s])) by (id,pod_name)",
                        "interval": "",
                        "intervalFactor": 2,
                        "legendFormat": "{{pod_name}}",
                        "refId": "A",
                        "step": 2
                      },
                      {
                        "expr": "sum(container_spec_cpu_quota{container_name=\"$container\", namespace=\"$namespace\"} / container_spec_cpu_period{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) ",
                        "intervalFactor": 2,
                        "legendFormat": "limit",
                        "refId": "B",
                        "step": 2
                      },
                      {
                        "expr": "sum(container_spec_cpu_shares{container_name=\"$container\", namespace=\"$namespace\"} / 1024) by (namespace,container_name) / count(container_spec_cpu_shares{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) ",
                        "intervalFactor": 2,
                        "legendFormat": "request",
                        "refId": "C",
                        "step": 2
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Cpu usage (per pod)",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "short",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "fill": 1,
                    "id": 14,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "null",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (id,pod_name)",
                        "interval": "",
                        "intervalFactor": 2,
                        "legendFormat": "{{pod_name}}",
                        "refId": "A",
                        "step": 2
                      },
                      {
                        "expr": "sum(container_spec_memory_limit_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (container_name,namespace)",
                        "intervalFactor": 2,
                        "legendFormat": "limit",
                        "refId": "B",
                        "step": 2
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Memory usage (per pod)",
                    "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Usage per pod",
                "titleSize": "h6"
              },
              {
                "collapse": true,
                "height": 250,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "id": 8,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(irate(container_cpu_usage_seconds_total{container_name=\"$container\", namespace=\"$namespace\"}[30s])) by (namespace,container_name) / count(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) ",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "actual",
                        "refId": "A",
                        "step": 1
                      },
                      {
                        "expr": "sum(container_spec_cpu_quota{container_name=\"$container\", namespace=\"$namespace\"} / container_spec_cpu_period{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) ",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "limit",
                        "refId": "B",
                        "step": 1
                      },
                      {
                        "expr": "sum(container_spec_cpu_shares{container_name=\"$container\", namespace=\"$namespace\"} / 1024) by (namespace,container_name) / count(container_spec_cpu_shares{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) ",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "request",
                        "refId": "C",
                        "step": 1
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Cpu usage (avg per pod)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "id": 9,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) ",
                        "intervalFactor": 1,
                        "legendFormat": "actual",
                        "metric": "",
                        "refId": "A",
                        "step": 1
                      },
                      {
                        "expr": "sum(container_spec_memory_limit_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) / count(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name) ",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "limit",
                        "refId": "B",
                        "step": 1
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Memory usage (avg per pod)",
                    "tooltip": {
                      "msResolution": false,
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Usage per pod (average)",
                "titleSize": "h6"
              },
              {
                "collapse": true,
                "height": 259.4375,
                "panels": [
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "id": 1,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(irate(container_cpu_usage_seconds_total{container_name=\"$container\", namespace=\"$namespace\"}[30s])) by (namespace,container_name)",
                        "hide": false,
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "actual",
                        "metric": "",
                        "refId": "A",
                        "step": 1
                      },
                      {
                        "expr": "sum(container_spec_cpu_quota{container_name=\"$container\", namespace=\"$namespace\"} / container_spec_cpu_period{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name)",
                        "intervalFactor": 1,
                        "legendFormat": "limit",
                        "refId": "B",
                        "step": 1
                      },
                      {
                        "expr": "sum(container_spec_cpu_shares{container_name=\"$container\", namespace=\"$namespace\"} / 1024) by (namespace,container_name) ",
                        "intervalFactor": 1,
                        "legendFormat": "request",
                        "refId": "C",
                        "step": 1
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Cpu usage (total)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": false,
                      "sort": 0,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "none",
                        "label": "cores",
                        "logBase": 1,
                        "max": null,
                        "min": 0,
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  },
                  {
                    "aliasColors": {},
                    "bars": false,
                    "datasource": "Prometheus",
                    "editable": true,
                    "error": false,
                    "fill": 1,
                    "grid": {},
                    "id": 2,
                    "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": false,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "avg",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                    },
                    "lines": true,
                    "linewidth": 2,
                    "links": [],
                    "nullPointMode": "connected",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [],
                    "span": 6,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                      {
                        "expr": "sum(container_memory_usage_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name)",
                        "interval": "",
                        "intervalFactor": 1,
                        "legendFormat": "actual",
                        "refId": "A",
                        "step": 1
                      },
                      {
                        "expr": "sum(container_spec_memory_limit_bytes{container_name=\"$container\", namespace=\"$namespace\"}) by (namespace,container_name)",
                        "intervalFactor": 1,
                        "legendFormat": "limit",
                        "refId": "B",
                        "step": 1
                      }
                    ],
                    "thresholds": [],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Memory usage (total)",
                    "tooltip": {
                      "msResolution": true,
                      "shared": false,
                      "sort": 0,
                      "value_type": "cumulative"
                    },
                    "type": "graph",
                    "xaxis": {
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": []
                    },
                    "yaxes": [
                      {
                        "format": "bytes",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": "0",
                        "show": true
                      },
                      {
                        "format": "short",
                        "label": null,
                        "logBase": 1,
                        "max": null,
                        "min": null,
                        "show": true
                      }
                    ]
                  }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Usage total",
                "titleSize": "h6"
              }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [],
            "templating": {
              "list": [
                {
                  "allValue": ".+",
                  "current": {},
                  "datasource": "Prometheus",
                  "hide": 0,
                  "includeAll": false,
                  "label": null,
                  "multi": false,
                  "name": "namespace",
                  "options": [],
                  "query": "label_values(container_memory_usage_bytes{namespace=~\".+\",container_name!=\"POD\"},namespace)",
                  "refresh": 1,
                  "regex": "",
                  "sort": 1,
                  "tagValuesQuery": null,
                  "tags": [],
                  "tagsQuery": null,
                  "type": "query",
                  "useTags": false
                },
                {
                  "allValue": ".+",
                  "current": {},
                  "datasource": "Prometheus",
                  "hide": 0,
                  "includeAll": false,
                  "label": null,
                  "multi": false,
                  "name": "container",
                  "options": [],
                  "query": "label_values(container_memory_usage_bytes{namespace=~\"$namespace\",container_name!=\"POD\"},container_name)",
                  "refresh": 1,
                  "regex": "",
                  "sort": 1,
                  "tagValuesQuery": null,
                  "tags": [],
                  "tagsQuery": null,
                  "type": "query",
                  "useTags": false
                }
              ]
            },
            "time": {
              "from": "now-3h",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "browser",
            "title": "Kubernetes App Metrics",
            "version": 37,
            "description": "After selecting your namespace and container you get a wealth of metrics like request rate, error rate, response times, pod count, cpu and memory usage. You can view cpu and memory usage in a variety of ways, compared to the limit, compared to the request, per pod, average per pod, etc."
          }
      traefik-1-dashboard:
        json: |
          {
            "__inputs": [
              {
                "name": "DS_PROMETHEUS",
                "label": "Prometheus",
                "description": "",
                "type": "datasource",
                "pluginId": "prometheus",
                "pluginName": "Prometheus"
              }
            ],
            "__requires": [
              {
                "type": "grafana",
                "id": "grafana",
                "name": "Grafana",
                "version": "7.5.5"
              },
              {
                "type": "panel",
                "id": "graph",
                "name": "Graph",
                "version": ""
              },
              {
                "type": "panel",
                "id": "piechart",
                "name": "Pie chart v2",
                "version": ""
              },
              {
                "type": "datasource",
                "id": "prometheus",
                "name": "Prometheus",
                "version": "1.0.0"
              },
              {
                "type": "panel",
                "id": "singlestat",
                "name": "Singlestat",
                "version": ""
              }
            ],
            "annotations": {
              "list": [
                {
                  "builtIn": 1,
                  "datasource": "-- Grafana --",
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
                }
              ]
            },
            "description": "Traefik dashboard prometheus",
            "editable": true,
            "gnetId": 4475,
            "graphTooltip": 0,
            "id": null,
            "iteration": 1620932097756,
            "links": [],
            "panels": [
              {
                "datasource": null,
                "gridPos": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 0
                },
                "id": 10,
                "title": "$backend stats",
                "type": "row"
              },
              {
                "cacheTimeout": null,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "decimals": 0,
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 1
                },
                "id": 2,
                "interval": null,
                "links": [],
                "maxDataPoints": 3,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "calcs": [],
                    "displayMode": "table",
                    "placement": "right",
                    "values": [
                      "value",
                      "percent"
                    ]
                  },
                  "pieType": "pie",
                  "reduceOptions": {
                    "calcs": [
                      "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "text": {}
                },
                "targets": [
                  {
                    "exemplar": true,
                    "expr": "traefik_service_requests_total{service=\"$service\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{method}} : {{code}}",
                    "refId": "A"
                  }
                ],
                "title": "$service return code",
                "type": "piechart"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "format": "ms",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 1
                },
                "id": 4,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": true
                },
                "tableColumn": "",
                "targets": [
                  {
                    "exemplar": true,
                    "expr": "sum(traefik_service_request_duration_seconds_sum{service=\"$service\"}) / sum(traefik_service_requests_total{service=\"$service\"}) * 1000",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "",
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "$service response time",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 8
                },
                "hiddenSeries": false,
                "id": 3,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": false,
                  "max": true,
                  "min": true,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": true
                },
                "lines": false,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.5",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "exemplar": true,
                    "expr": "sum(rate(traefik_service_requests_total{service=\"$service\"}[5m]))",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "Total requests $service",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Total requests over 5min $service",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "collapsed": false,
                "datasource": null,
                "gridPos": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 15
                },
                "id": 12,
                "panels": [],
                "title": "Global stats",
                "type": "row"
              },
              {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 16
                },
                "hiddenSeries": false,
                "id": 5,
                "legend": {
                  "alignAsTable": true,
                  "avg": false,
                  "current": true,
                  "max": true,
                  "min": true,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": true
                },
                "lines": false,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.5",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": true,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "rate(traefik_entrypoint_requests_total{entrypoint=~\"$entrypoint\",code=\"200\"}[5m])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{method}} : {{code}}",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Status code 200 over 5min",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 16
                },
                "hiddenSeries": false,
                "id": 6,
                "legend": {
                  "alignAsTable": true,
                  "avg": false,
                  "current": true,
                  "max": true,
                  "min": true,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": true
                },
                "lines": false,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.5",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": true,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "rate(traefik_entrypoint_requests_total{entrypoint=~\"$entrypoint\",code!=\"200\"}[5m])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{ method }} : {{code}}",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Others status code over 5min",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "cacheTimeout": null,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "decimals": 0,
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 23
                },
                "id": 7,
                "interval": null,
                "links": [],
                "maxDataPoints": 3,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "calcs": [],
                    "displayMode": "table",
                    "placement": "right",
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "pie",
                  "reduceOptions": {
                    "calcs": [
                      "sum"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "text": {}
                },
                "targets": [
                  {
                    "exemplar": true,
                    "expr": "sum(rate(traefik_service_requests_total[5m])) by (service) ",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{ service }}",
                    "refId": "A"
                  }
                ],
                "title": "Requests by service",
                "type": "piechart"
              },
              {
                "cacheTimeout": null,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "color": {
                      "mode": "palette-classic"
                    },
                    "decimals": 0,
                    "mappings": [],
                    "thresholds": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 80
                        }
                      ]
                    },
                    "unit": "short"
                  },
                  "overrides": []
                },
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 23
                },
                "id": 8,
                "interval": null,
                "links": [],
                "maxDataPoints": 3,
                "options": {
                  "displayLabels": [],
                  "legend": {
                    "calcs": [],
                    "displayMode": "table",
                    "placement": "right",
                    "values": [
                      "value"
                    ]
                  },
                  "pieType": "pie",
                  "reduceOptions": {
                    "calcs": [
                      "sum"
                    ],
                    "fields": "",
                    "values": false
                  },
                  "text": {}
                },
                "targets": [
                  {
                    "exemplar": true,
                    "expr": "sum(rate(traefik_entrypoint_requests_total{entrypoint =~ \"$entrypoint\"}[5m])) by (entrypoint) ",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{ entrypoint }}",
                    "refId": "A"
                  }
                ],
                "title": "Requests by protocol",
                "type": "piechart"
              }
            ],
            "schemaVersion": 27,
            "style": "dark",
            "tags": [
              "traefik",
              "prometheus"
            ],
            "templating": {
              "list": [
                {
                  "allValue": null,
                  "current": {},
                  "datasource": "Prometheus",
                  "definition": "label_values(service)",
                  "description": null,
                  "error": null,
                  "hide": 0,
                  "includeAll": false,
                  "label": null,
                  "multi": false,
                  "name": "service",
                  "options": [],
                  "query": {
                    "query": "label_values(service)",
                    "refId": "StandardVariableQuery"
                  },
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "allValue": null,
                  "current": {},
                  "datasource": "Prometheus",
                  "definition": "",
                  "description": null,
                  "error": null,
                  "hide": 0,
                  "includeAll": true,
                  "label": null,
                  "multi": true,
                  "name": "entrypoint",
                  "options": [],
                  "query": {
                    "query": "label_values(entrypoint)",
                    "refId": "Prometheus-entrypoint-Variable-Query"
                  },
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                }
              ]
            },
            "time": {
              "from": "now-1h",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "",
            "title": "Traefik",
            "uid": "qPdAviJmz",
            "version": 10
          }
      traefik-2-dashboard:
        json: |
          {
            "annotations": {
              "list": [
                {
                  "builtIn": 1,
                  "datasource": "-- Grafana --",
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "name": "Annotations & Alerts",
                  "type": "dashboard"
                }
              ]
            },
            "description": "Simple dashboard for Traefik 2",
            "editable": true,
            "gnetId": 11462,
            "graphTooltip": 0,
            "iteration": 1618998843727,
            "links": [],
            "panels": [
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "format": "s",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 6,
                  "w": 3,
                  "x": 0,
                  "y": 0
                },
                "id": 22,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "time() - process_start_time_seconds{job=\"$job\"}",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "Uptime",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "current"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": true,
                "colors": [
                  "#37872D",
                  "#37872D",
                  "#C4162A"
                ],
                "datasource": "Prometheus",
                "decimals": 0,
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 6,
                  "w": 3,
                  "x": 3,
                  "y": 0
                },
                "id": 26,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "200%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(increase(traefik_service_requests_total{code=\"404\",protocol=~\"$protocol\"}[$interval]))",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "",
                    "metric": "traefik_requests_total",
                    "refId": "A",
                    "step": 60
                  }
                ],
                "thresholds": "0,1",
                "title": "404 Error Count",
                "type": "singlestat",
                "valueFontSize": "200%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "max"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": true,
                "colors": [
                  "#37872D",
                  "#C4162A",
                  "#C4162A"
                ],
                "datasource": "Prometheus",
                "decimals": 0,
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 6,
                  "w": 3,
                  "x": 6,
                  "y": 0
                },
                "id": 32,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "200%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false,
                  "ymax": null,
                  "ymin": null
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(increase(traefik_service_requests_total{code=\"503\",protocol=~\"$protocol\"}[$interval]))",
                    "refId": "A"
                  }
                ],
                "thresholds": "0,1",
                "timeFrom": null,
                "timeShift": null,
                "title": "503 Error count",
                "type": "singlestat",
                "valueFontSize": "200%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "max"
              },
              {
                "aliasColors": {},
                "breakPoint": "50%",
                "cacheTimeout": null,
                "combine": {
                  "label": "Others",
                  "threshold": 0
                },
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "fontSize": "80%",
                "format": "short",
                "gridPos": {
                  "h": 6,
                  "w": 4,
                  "x": 9,
                  "y": 0
                },
                "id": 18,
                "interval": null,
                "legend": {
                  "percentage": true,
                  "show": true,
                  "sort": null,
                  "sortDesc": null,
                  "values": true
                },
                "legendType": "Right side",
                "links": [],
                "maxDataPoints": 3,
                "nullPointMode": "connected",
                "pieType": "pie",
                "strokeWidth": 1,
                "targets": [
                  {
                    "expr": "topk(5, sum(traefik_service_requests_total{protocol=~\"$protocol\"}) by (code))",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{code}}",
                    "refId": "A"
                  }
                ],
                "title": "Top 5 $protocol return code",
                "type": "grafana-piechart-panel",
                "valueName": "current"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {},
                  "overrides": []
                },
                "format": "ms",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 6,
                  "w": 4,
                  "x": 13,
                  "y": 0
                },
                "id": 20,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": true
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(traefik_entrypoint_request_duration_seconds_sum) / sum(traefik_entrypoint_requests_total) * 1000",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "Average response time",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "links": []
                  },
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 6,
                  "w": 7,
                  "x": 17,
                  "y": 0
                },
                "hiddenSeries": false,
                "id": 14,
                "legend": {
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
                },
                "lines": true,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.3",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(traefik_service_request_duration_seconds_sum{protocol=~\"$protocol\"}) / sum(traefik_entrypoint_requests_total{protocol=~\"$protocol\"}) * 1000",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "Average response time (ms)",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Average response time",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "ms",
                    "label": null,
                    "logBase": 10,
                    "max": null,
                    "min": "0",
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "decimals": 0,
                "fieldConfig": {
                  "defaults": {
                    "links": []
                  },
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 0,
                  "y": 6
                },
                "hiddenSeries": false,
                "id": 10,
                "legend": {
                  "alignAsTable": true,
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": false
                },
                "lines": true,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.3",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(increase(traefik_service_requests_total{code=\"404\",method=\"GET\",protocol=~\"$protocol\"}[$interval])) by (service)",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{service}} ",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Bad Status Code Count",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "decimals": 0,
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "links": []
                  },
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 6,
                  "w": 12,
                  "x": 12,
                  "y": 6
                },
                "hiddenSeries": false,
                "hideTimeOverride": false,
                "id": 4,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": false,
                  "max": true,
                  "min": true,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": true
                },
                "lines": false,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.3",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(rate(traefik_service_requests_total[$interval]))",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "Total requests",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Total requests",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "decimals": 0,
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "decimals": 0,
                    "format": "short",
                    "label": "",
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "links": []
                  },
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 6,
                  "w": 10,
                  "x": 0,
                  "y": 12
                },
                "hiddenSeries": false,
                "id": 8,
                "legend": {
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "show": true,
                  "total": false,
                  "values": false
                },
                "lines": true,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null as zero",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.3",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": true,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "process_open_fds{job=~\"$job\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{ instance }}",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Used sockets",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "decimals": 0,
                "fieldConfig": {
                  "defaults": {
                    "links": []
                  },
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 6,
                  "w": 14,
                  "x": 10,
                  "y": 12
                },
                "hiddenSeries": false,
                "id": 24,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": false,
                  "min": false,
                  "rightSide": true,
                  "show": true,
                  "total": true,
                  "values": true
                },
                "lines": true,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.3",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(rate(traefik_service_requests_total{protocol=~\"http|https\"}[$interval])) by (service)",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{service}} ",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Access to services",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "decimals": 0,
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "links": []
                  },
                  "overrides": []
                },
                "fill": 7,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 18
                },
                "hiddenSeries": false,
                "id": 30,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": false,
                  "rightSide": true,
                  "show": true,
                  "sort": "avg",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.3",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": true,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(traefik_entrypoint_open_connections) by (method)",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{ method }}",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "ENTRYPOINT - Open Connections",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "decimals": 0,
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "links": []
                  },
                  "overrides": []
                },
                "fill": 7,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 18
                },
                "hiddenSeries": false,
                "id": 28,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": true,
                  "max": true,
                  "min": false,
                  "rightSide": true,
                  "show": true,
                  "sort": "avg",
                  "sortDesc": true,
                  "total": false,
                  "values": true
                },
                "lines": true,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.3",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": true,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(traefik_service_open_connections) by (method)",
                    "format": "time_series",
                    "intervalFactor": 1,
                    "legendFormat": "{{ method }}",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "SERVICE - Open Connections",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "decimals": 0,
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "decimals": 0,
                "fieldConfig": {
                  "defaults": {
                    "links": []
                  },
                  "overrides": []
                },
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 24,
                  "x": 0,
                  "y": 25
                },
                "hiddenSeries": false,
                "id": 12,
                "legend": {
                  "alignAsTable": true,
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": false
                },
                "lines": true,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "alertThreshold": true
                },
                "percentage": false,
                "pluginVersion": "7.5.3",
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [
                  {
                    "alias": "/^[^234].*/",
                    "transform": "negative-Y"
                  }
                ],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(increase(traefik_service_requests_total{protocol=~\"$protocol\"}[$interval])) by (code)",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{code}}",
                    "refId": "A",
                    "step": 120
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Status Code Count ",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "decimals": 0,
                    "format": "short",
                    "label": "",
                    "logBase": 1,
                    "max": null,
                    "min": "0",
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": false
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              }
            ],
            "refresh": false,
            "schemaVersion": 27,
            "style": "dark",
            "tags": [
              "traefik",
              "load-balancer",
              "docker",
              "prometheus"
            ],
            "templating": {
              "list": [
                {
                  "allValue": null,
                  "current": {
                    "selected": false,
                    "text": "traefik-dashboard",
                    "value": "traefik-dashboard"
                  },
                  "datasource": "Prometheus",
                  "definition": "",
                  "description": null,
                  "error": null,
                  "hide": 0,
                  "includeAll": false,
                  "label": "Job:",
                  "multi": false,
                  "name": "job",
                  "options": [],
                  "query": {
                    "query": "label_values(job)",
                    "refId": "Prometheus-job-Variable-Query"
                  },
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 2,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "allValue": null,
                  "current": {
                    "selected": false,
                    "text": "All",
                    "value": "$__all"
                  },
                  "datasource": "Prometheus",
                  "definition": "label_values(traefik_service_requests_total, protocol)",
                  "description": null,
                  "error": null,
                  "hide": 0,
                  "includeAll": true,
                  "label": "Service:",
                  "multi": true,
                  "name": "protocol",
                  "options": [],
                  "query": {
                    "query": "label_values(traefik_service_requests_total, protocol)",
                    "refId": "Prometheus-protocol-Variable-Query"
                  },
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "auto": true,
                  "auto_count": 30,
                  "auto_min": "10s",
                  "current": {
                    "selected": false,
                    "text": "auto",
                    "value": "$__auto_interval_interval"
                  },
                  "description": null,
                  "error": null,
                  "hide": 0,
                  "label": "Interval",
                  "name": "interval",
                  "options": [
                    {
                      "selected": true,
                      "text": "auto",
                      "value": "$__auto_interval_interval"
                    },
                    {
                      "selected": false,
                      "text": "1m",
                      "value": "1m"
                    },
                    {
                      "selected": false,
                      "text": "10m",
                      "value": "10m"
                    },
                    {
                      "selected": false,
                      "text": "30m",
                      "value": "30m"
                    },
                    {
                      "selected": false,
                      "text": "1h",
                      "value": "1h"
                    },
                    {
                      "selected": false,
                      "text": "6h",
                      "value": "6h"
                    },
                    {
                      "selected": false,
                      "text": "12h",
                      "value": "12h"
                    },
                    {
                      "selected": false,
                      "text": "1d",
                      "value": "1d"
                    },
                    {
                      "selected": false,
                      "text": "7d",
                      "value": "7d"
                    },
                    {
                      "selected": false,
                      "text": "14d",
                      "value": "14d"
                    },
                    {
                      "selected": false,
                      "text": "30d",
                      "value": "30d"
                    }
                  ],
                  "query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
                  "refresh": 2,
                  "skipUrlSync": false,
                  "type": "interval"
                }
              ]
            },
            "time": {
              "from": "now-5m",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "",
            "title": "Traefik imported from 11462",
            "uid": "Y84hBrXMz",
            "version": 1
          }
      traefik-3-dashboard:
        json: |
          {
            "__inputs": [
              {
                "name": "DS_TRAEFIK",
                "label": "Traefik",
                "description": "Traefik 2.2 metrics exported via prometheus",
                "type": "datasource",
                "pluginId": "prometheus",
                "pluginName": "Prometheus"
              }
            ],
            "__requires": [
              {
                "type": "grafana",
                "id": "grafana",
                "name": "Grafana",
                "version": "6.7.3"
              },
              {
                "type": "panel",
                "id": "grafana-piechart-panel",
                "name": "Pie Chart",
                "version": "1.4.0"
              },
              {
                "type": "panel",
                "id": "graph",
                "name": "Graph",
                "version": ""
              },
              {
                "type": "datasource",
                "id": "prometheus",
                "name": "Prometheus",
                "version": "1.0.0"
              },
              {
                "type": "panel",
                "id": "singlestat",
                "name": "Singlestat",
                "version": ""
              }
            ],
            "annotations": {
              "list": [
                {
                  "$$hashKey": "object:112",
                  "builtIn": 1,
                  "datasource": "-- Grafana --",
                  "enable": true,
                  "hide": true,
                  "iconColor": "rgba(0, 211, 255, 1)",
                  "limit": 100,
                  "name": "Annotations & Alerts",
                  "showIn": 0,
                  "type": "dashboard"
                }
              ]
            },
            "description": "Traefik dashboard (data from prometheus) (based on Traefik by Thomas Cheronneau https://grafana.com/grafana/dashboards/4475)",
            "editable": true,
            "gnetId": 12250,
            "graphTooltip": 0,
            "id": null,
            "iteration": 1588878844825,
            "links": [],
            "panels": [
              {
                "datasource": "Prometheus",
                "gridPos": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 0
                },
                "id": 16,
                "title": "Global stats",
                "type": "row"
              },
              {
                "aliasColors": {},
                "bars": false,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 1
                },
                "hiddenSeries": false,
                "id": 14,
                "legend": {
                  "alignAsTable": false,
                  "avg": false,
                  "current": false,
                  "max": false,
                  "min": false,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": false
                },
                "lines": true,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "dataLinks": []
                },
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(traefik_service_request_duration_seconds_sum{}) by (service) / sum(traefik_service_request_duration_seconds_count{}) by (service)",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": " {{service}}",
                    "refId": "A",
                    "step": 240
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Average response time by service",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "$$hashKey": "object:598",
                    "format": "s",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": "0",
                    "show": true
                  },
                  {
                    "$$hashKey": "object:599",
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "breakPoint": "50%",
                "cacheTimeout": null,
                "combine": {
                  "label": "Others",
                  "threshold": 0
                },
                "datasource": "Prometheus",
                "fontSize": "80%",
                "format": "short",
                "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 12,
                  "y": 1
                },
                "id": 7,
                "interval": null,
                "legend": {
                  "show": true,
                  "values": true
                },
                "legendType": "Right side",
                "links": [],
                "maxDataPoints": 3,
                "nullPointMode": "connected",
                "pieType": "pie",
                "strokeWidth": 1,
                "targets": [
                  {
                    "expr": "sum(rate(traefik_service_requests_total[5m])) by (service) ",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{ service }}",
                    "refId": "A"
                  }
                ],
                "title": "Requests by service",
                "type": "grafana-piechart-panel",
                "valueName": "total"
              },
              {
                "aliasColors": {},
                "breakPoint": "50%",
                "cacheTimeout": null,
                "combine": {
                  "label": "Others",
                  "threshold": 0
                },
                "datasource": "Prometheus",
                "fontSize": "80%",
                "format": "short",
                "gridPos": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 1
                },
                "id": 8,
                "interval": null,
                "legend": {
                  "show": true,
                  "values": true
                },
                "legendType": "Right side",
                "links": [],
                "maxDataPoints": 3,
                "nullPointMode": "connected",
                "pieType": "pie",
                "strokeWidth": 1,
                "targets": [
                  {
                    "expr": "sum(rate(traefik_entrypoint_requests_total{entrypoint =~ \"$entrypoint\"}[5m])) by (entrypoint) ",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{ entrypoint }}",
                    "refId": "A"
                  }
                ],
                "title": "Requests by protocol",
                "type": "grafana-piechart-panel",
                "valueName": "total"
              },
              {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 8
                },
                "hiddenSeries": false,
                "id": 5,
                "legend": {
                  "alignAsTable": true,
                  "avg": false,
                  "current": true,
                  "max": true,
                  "min": true,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": true
                },
                "lines": false,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "dataLinks": []
                },
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": true,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "rate(traefik_entrypoint_requests_total{entrypoint=~\"$entrypoint\",code=\"200\"}[5m])",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{method}} : {{code}}",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Status code 200 over 5min",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 8
                },
                "hiddenSeries": false,
                "id": 6,
                "legend": {
                  "alignAsTable": true,
                  "avg": false,
                  "current": true,
                  "max": true,
                  "min": true,
                  "rightSide": true,
                  "show": true,
                  "total": false,
                  "values": true
                },
                "lines": false,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "dataLinks": []
                },
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": true,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "rate(traefik_entrypoint_requests_total{entrypoint=~\"$entrypoint\",code!=\"200\"}[5m])",
                    "format": "time_series",
                    "intervalFactor": 2,
                    "legendFormat": "{{ method }} : {{code}}",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Others status code over 5min",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              },
              {
                "collapsed": false,
                "datasource": "Prometheus",
                "gridPos": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 15
                },
                "id": 10,
                "panels": [],
                "title": "$service stats",
                "type": "row"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "#299c46",
                  "rgba(237, 129, 40, 0.89)",
                  "#d44a3a"
                ],
                "datasource": "Prometheus",
                "format": "ms",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 16
                },
                "id": 4,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "$$hashKey": "object:451",
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "$$hashKey": "object:452",
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": true
                },
                "tableColumn": "",
                "targets": [
                  {
                    "expr": "sum(traefik_service_request_duration_seconds_sum{service=\"$service\"}) / sum(traefik_service_requests_total{service=\"$service\"}) * 1000",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "",
                    "refId": "A"
                  }
                ],
                "thresholds": "",
                "title": "$service response time",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "$$hashKey": "object:454",
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "avg"
              },
              {
                "aliasColors": {},
                "breakPoint": "50%",
                "cacheTimeout": null,
                "combine": {
                  "label": "Others",
                  "threshold": 0
                },
                "datasource": "Prometheus",
                "fontSize": "80%",
                "format": "short",
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 16
                },
                "id": 2,
                "interval": null,
                "legend": {
                  "percentage": true,
                  "show": true,
                  "values": true
                },
                "legendType": "Right side",
                "links": [],
                "maxDataPoints": 3,
                "nullPointMode": "connected",
                "pieType": "pie",
                "strokeWidth": 1,
                "targets": [
                  {
                    "expr": "traefik_service_requests_total{service=\"$service\"}",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "{{method}} : {{code}}",
                    "refId": "A"
                  }
                ],
                "title": "$service return code",
                "type": "grafana-piechart-panel",
                "valueName": "current"
              },
              {
                "aliasColors": {},
                "bars": true,
                "dashLength": 10,
                "dashes": false,
                "datasource": "Prometheus",
                "fill": 1,
                "fillGradient": 0,
                "gridPos": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 16
                },
                "hiddenSeries": false,
                "id": 3,
                "legend": {
                  "alignAsTable": true,
                  "avg": true,
                  "current": false,
                  "max": true,
                  "min": true,
                  "rightSide": false,
                  "show": true,
                  "total": false,
                  "values": true
                },
                "lines": false,
                "linewidth": 1,
                "links": [],
                "nullPointMode": "null",
                "options": {
                  "dataLinks": []
                },
                "percentage": false,
                "pointradius": 5,
                "points": false,
                "renderer": "flot",
                "seriesOverrides": [],
                "spaceLength": 10,
                "stack": false,
                "steppedLine": false,
                "targets": [
                  {
                    "expr": "sum(rate(traefik_service_requests_total{service=\"$service\"}[5m]))",
                    "format": "time_series",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "Total requests $service",
                    "refId": "A"
                  }
                ],
                "thresholds": [],
                "timeFrom": null,
                "timeRegions": [],
                "timeShift": null,
                "title": "Total requests over 5min $service",
                "tooltip": {
                  "shared": true,
                  "sort": 0,
                  "value_type": "individual"
                },
                "type": "graph",
                "xaxis": {
                  "buckets": null,
                  "mode": "time",
                  "name": null,
                  "show": true,
                  "values": []
                },
                "yaxes": [
                  {
                    "$$hashKey": "object:509",
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  },
                  {
                    "$$hashKey": "object:510",
                    "format": "short",
                    "label": null,
                    "logBase": 1,
                    "max": null,
                    "min": null,
                    "show": true
                  }
                ],
                "yaxis": {
                  "align": false,
                  "alignLevel": null
                }
              }
            ],
            "refresh": "5m",
            "schemaVersion": 22,
            "style": "dark",
            "tags": [
              "prometheus",
              "traefik"
            ],
            "templating": {
              "list": [
                {
                  "allValue": null,
                  "current": {},
                  "datasource": "Prometheus",
                  "definition": "label_values(service)",
                  "hide": 0,
                  "includeAll": false,
                  "index": -1,
                  "label": null,
                  "multi": false,
                  "name": "service",
                  "options": [],
                  "query": "label_values(service)",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                },
                {
                  "allValue": null,
                  "current": {},
                  "datasource": "Prometheus",
                  "definition": "",
                  "hide": 0,
                  "includeAll": true,
                  "index": -1,
                  "label": null,
                  "multi": true,
                  "name": "entrypoint",
                  "options": [],
                  "query": "label_values(entrypoint)",
                  "refresh": 1,
                  "regex": "",
                  "skipUrlSync": false,
                  "sort": 0,
                  "tagValuesQuery": "",
                  "tags": [],
                  "tagsQuery": "",
                  "type": "query",
                  "useTags": false
                }
              ]
            },
            "time": {
              "from": "now-1h",
              "to": "now"
            },
            "timepicker": {
              "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
              ],
              "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
              ]
            },
            "timezone": "",
            "title": "Traefik 2.2",
            "uid": "O23g2BeWk",
            "variables": {
              "list": []
            },
            "version": 2
          }